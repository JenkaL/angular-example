# angular-example
Angularjs example project 

# авторизация 
* email - xz@xz.ru
* password - 123

# Модули
## модуль core-api
* базовый мок для апи - класс ApiMock, вызывается в секции run 
* сервис RestangularWithAuth - расширяет Restangular error-интерсептором - в случае ошибки  от сервера юзера перекидывает на страницу с логином

## модуль auth
* authRouterConfig - login стейт с контроллером AuthRouteController - отправка введенных юзером данных в Auth сервис и вывод ошибки, в случае ошибочного ответа от сервиса
* в run - class AuthMock - http mock, проверка введенных авторизационных данных, в случае положительного ответа - сохранение токена
* сервис Auth - в checkAuth посылает запрос на авторизацию через RestangularWithAuth сервис с error-интерсептором
* сервис AuthToken - устанавливает (записывает в cookie) токен и проверяет его коррекстность

## модуль mailbox
* класс mailboxRouterConfig - стейты для почтового ящика

* сервис Folders - отдает массив папок
* директива foldersList - выводит список папок согласно шаблону, содержит контроллер FoldersListController, в котором содержится data для шаблонов - индекс выбранной папки и массив папок
* директива folderItem - вывод одной папки

* сервис Letters - получение списка писем для папки и одного письма по id 
* директива lettersList - вывод списка писем, в контроллере LettersListController получение писем от сервиса Letters, переход на дочерний стейт для 1го письма
* директива letterShortView - вывод одного письма в списке
* директива letterFullview - полный вид одного письма, контроллер LetterFullViewController содержит индекс текущего письма, получение письма от сервиса Letters по id 

## модуль users
* класс usersRouterConfig - стейты для модуля
* сервис Users - запросы к апи на получение списка юзеров, одного юзера, удаление и редактирование профиля одного пользователя
* сервис UsersRestangular - расширяет RestangularWithAuth пост обработкой данных
* директива avatar - вывод аватара пользователя
* директива userCard - вывод карточки пользователя
* директива userCardEdit - вывод карточки пользователя, в контроллере UserCardEditController удаление и редактирование профиля одного пользователя

## головной модуль myApp
* общие стейты
* установка базового урла для Restangular
* секция run - класс RunController, в котором в обрабочике событи $stateChangeStart, если пользователь находится на внутренних страницах проверяется токен авторизации
